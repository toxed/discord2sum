# Discord bot token (keep secret)
DISCORD_TOKEN=

# Optional: limit bot to a single guild (server) id; otherwise it will operate everywhere it has access
DISCORD_GUILD_ID=

# Text channel id to post the "recording/transcribing" notice into.
# If empty, the bot will try to use the system channel, otherwise it will not post.
DISCORD_NOTICE_TEXT_CHANNEL_ID=

# Telegram bot token + chat id to send summaries to
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=
# Request timeout for Telegram (ms)
TELEGRAM_HTTP_TIMEOUT_MS=30000

# Local STT: path to whisper.cpp binary (optional)
WHISPER_CPP_BIN=
# Model path for whisper.cpp (e.g. /opt/whisper.cpp/models/ggml-small.bin)
WHISPER_CPP_MODEL=

# If you prefer python faster-whisper, set this to a SAFE command line.
# Security restrictions:
# - Only `python` / `python3` commands are allowed
# - The script must be exactly: ./scripts/transcribe_faster_whisper.py
# - No shell operators (|, ;, &&, >, etc.)
# The WAV file path will be appended as the last arg.
# Example:
# PY_STT_CMD=python3 ./scripts/transcribe_faster_whisper.py --model medium --language ru
PY_STT_CMD=

# Recording chunk length in seconds (10..300)
CHUNK_SECONDS=60

# Minimum speaking segment duration to bother transcribing (seconds)
MIN_SEGMENT_SECONDS=1.0

# Skip Telegram notification if the call was empty (no speech captured)
# AND shorter than this threshold (milliseconds). Default: 20000
SKIP_EMPTY_CALL_UNDER_MS=20000

# Safety: cap transcript items kept in memory during long calls. Default: 800
MAX_TRANSCRIPT_ITEMS=800

# Safety: cap per-segment text stored from STT output (chars). Default: 4000
MAX_SEGMENT_TEXT_CHARS=4000

# Safety: cap transcript size sent to LLM (chars). Default: 20000
MAX_TRANSCRIPT_CHARS_FOR_LLM=20000

# Path safety: by default, INTRO_OPUS_PATH and TRANSCRIPTS_DIR must stay within the project directory.
# Set to true only if you know what you're doing.
ALLOW_ABSOLUTE_PATHS=false

# Log level: debug|info|warn|error
LOG_LEVEL=info

# Where to save transcripts (optional). Default: ./transcripts
TRANSCRIPTS_DIR=

# Local transcript retention (0 disables)
# Keep at most N transcript files (newest kept)
TRANSCRIPTS_MAX_FILES=0
# Delete transcript files older than N days
TRANSCRIPTS_MAX_AGE_DAYS=0

# Optional: intro audio to play (opus). Default: ./assets/intro.opus
INTRO_OPUS_PATH=

# Optional: LLM summary (OpenAI)
# If OPENAI_API_KEY is not set, the bot falls back to heuristic bullets.
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o-mini
# Request timeout for OpenAI (ms)
OPENAI_HTTP_TIMEOUT_MS=60000

# Which prompt language/template to use for the summary: ru|en
SUMMARY_PROMPT_LANG=ru

# Prompt template files (relative to project root or absolute paths)
SUMMARY_PROMPT_FILE_RU=prompts/summary_ru.txt
SUMMARY_PROMPT_FILE_EN=prompts/summary_en.txt
